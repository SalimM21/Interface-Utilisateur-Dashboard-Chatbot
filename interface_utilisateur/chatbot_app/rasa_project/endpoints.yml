# endpoints.yml
# -------------------
# Configuration des endpoints pour Rasa (adapté pour Docker)

# -----------------------------
# Serveur d'actions personnalisées (nom de service Docker)
action_endpoint:
  url: "http://rasa-actions:5055/webhook"  # URL du serveur Rasa Actions dans Docker

# -----------------------------
# Tracker Store (MongoDB pour persistance des conversations)
tracker_store:
  # Use MongoDB without authentication (matches the mongo service in docker-compose).
  # Keep this minimal: if your Mongo runs with auth, add username/password here.
  type: mongo
  url: "mongo:27017"
  db: "rasa_db"
  ssl: false

# -----------------------------
# Event Broker (optionnel, Kafka / RabbitMQ)
event_broker:
  type: kafka
  url: "kafka:9092"
  topic: "rasa-events"
  username: ""
  password: ""
  sasl_mechanism: ""
  security_protocol: ""

# -----------------------------
# Model Server (optionnel)
model:
  url: "http://rasa-model:5002"  # Serveur externe pour héberger les modèles

# -----------------------------
# Webhooks pour intégration externe (Slack, Messenger, etc.)
# Exemple Slack
slack:
  verify_token: "VOTRE_SLACK_VERIFICATION_TOKEN"
  slack_token: "xoxb-xxxxxxxxxxxxxxxxxxxxxxxx"

# -----------------------------
# Notes
# - Rasa utilisera `action_endpoint` pour exécuter les actions Python.
# - `tracker_store` permet de stocker les conversations et historiques.
# - `event_broker` permet de streamer les événements pour monitoring / analytics.
# - Webhooks externes sont utilisés pour intégrer le chatbot sur différents canaux.
